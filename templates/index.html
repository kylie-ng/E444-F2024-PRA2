{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}Flasky{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Hello, {% if name %}{{ name }}{% else %}Stranger{% endif %}!</h1>
</div>

<p>Current time: <span id="time">{{ current_time }}</span></p>

<div class="container">
    {% for message in get_flashed_messages() %}
    <div class="alert alert-warning">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {{ message }}
    </div>
    {% endfor %}

    {{ wtf.quick_form(form) }}
</div>

{% endblock %}

{% block scripts %}
<script>
    const timeElement = document.getElementById('time');
    const time = moment(timeElement.textContent);
    timeElement.textContent = time.format('LLLL'); 
</script>
{% endblock %}
